function cname = ClusterFile(name,varargin)filetype = 0;prefix = [];subdir = [];Ex = [];getdetails = 0;triggerset = 0;    j = 1;    while j <= length(varargin);        if isstruct(varargin{j})            if isfield(varargin{j},'exptno')                Ex = varargin{j};            end            if isfield(varargin{j},'Expt') || isfield(varargin{j},'triggerset')                DATA = varargin{j};                Ex = DATA.Expt;                if isfield(DATA,'clustersubdir')                    subdir = DATA.clustersubdir;                end                triggerset = DATA.triggerset;            end            if ~isempty(Ex)                prefix = sprintf('Expt%d',floor(Ex.exptno));                if Ex.blk > 0                    prefix = [prefix 'a'];                end            end        elseif strcmp(varargin{j},'subdir')            j = j+1;            subdir = varargin{j};;        elseif strcmp(varargin{j},'auto')            filetype = 1;        elseif strcmp(varargin{j},'DistanceMatrix')            filetype = 4;        elseif strcmp(varargin{j},'log')            filetype = 2;        elseif strcmp(varargin{j},'clusterlog')            filetype = 3;        elseif strcmp(varargin{j},'details')            getdetails = 1;        elseif strcmp(varargin{j},'triggerset')            j = j+1;            triggerset = varargin{j};        end        j = j+1;    end        if exist(name,'dir')        a = name;    else        [a,b] = fileparts(name);    end    if length(subdir)        a = [a '/' subdir];    end    if filetype == 2        cname = [a '/' prefix 'AutoLog.txt'];    elseif filetype == 3        cname = [a '/ClusterLog.txt'];    elseif filetype == 4        cname = [a '/' prefix 'DistanceMatrix.mat'];    elseif filetype == 1        cname = [a '/' prefix 'AutoClusterTimes.mat'];    else        cname = [a '/' prefix 'ClusterTimes.mat'];    end    if getdetails        cname = strrep(cname,'Times.mat','TimesDetails.mat');    end            