function GMMmenu(a,b, fcn)[DATA, F] = GetDataFromFig(a);DataClusters = AllV.mygetappdata(DATA,'Clusters');onoff = {'off' 'on'};C = DATA.cluster.jamescluster;if strncmp(fcn,'refit',5)    a = split(fcn);    space = a{2};    if strcmpi(space,'Template')        Sf = DATA.TemplateScores(:,1:4);    else        Sf = DATA.spikefeatures(:,1:4),    end    DATA = AllV.RunGMMFit(DATA,C,'replot','space',Sf);    elseif strcmp(fcn,'setplot')    DATA.usegmcid = ~DATA.usegmcid;    DATA.gmcid = C.comp_idx;    set(a,'checked',onoff{1+DATA.usegmcid});    DATA = AllV.ReplotPCs(DATA,[]); elseif strncmp(fcn,'add',3)    setappdata(DATA.toplevel,'LastGMM',DATA.cluster.jamescluster);    DATA = AllV.SetEllipseDrawing(DATA, 0,'cluster',1,'gmmadd');elseif strncmp(fcn,'split',5)    setappdata(DATA.toplevel,'LastGMM',DATA.cluster.jamescluster);    cn = sscanf(fcn,'split%f');    DATA = AllV.SetEllipseDrawing(DATA, 1,'cluster',cn,'gmmsplit');elseif strncmp(fcn,'merge',4)    setappdata(DATA.toplevel,'LastGMM',DATA.cluster.jamescluster);    DATA = AllV.SetEllipseDrawing(DATA, 1,'cluster',1,'gmmmerge');elseif strncmp(fcn,'undo',4)    DATA.cluster.jamescluster = getappdata(DATA.toplevel,'LastGMM')    DATA.gmcid = DATA.cluster.jamescluster.comp_idx;    AllV.ReplotPCs(DATA,[]);endset(DATA.toplevel,'UserData',DATA);    