function PlotAllProbes(DATA,type, varargin)    ClusterDetails = AllV.mygetappdata(DATA,'ClusterDetails');    Clusters = AllV.mygetappdata(DATA,'Clusters');    pid = 1:length(Clusters);    linewidth = 0.1;        j = 1;    while j <= length(varargin)        if strncmpi(varargin{j},'linewidth',5)            j = j+1;            linewidth = varargin{j};        elseif strncmpi(varargin{j},'probes',5)            j = j+1;            pid = varargin{j};        end        j = j+1;    end    [nr,nc] = Nsubplots(length(Clusters));    AllV.SetFigure(DATA.tag.allxy, DATA);    for j = pid        k = ceil(j/nr) + rem(j-1,nc).*nc;        mysubplot(nr,nc,CalcSubPlot(nr, nc, j, DATA.ArrayConfig));        hold off;        if strcmp(type,'spkmean')            AllV.PlotMeanSpikes(Clusters{j},0,1,'lineonly','colors',DATA.colors);            axis('tight');            set(gca,'Xtick',[],'Ytick',[]);        else            AllV.PlotClusterXY(DATA, ClusterDetails{j});        end        h = AllV.AddCellLabel(DATA, DATA.exptno,j);        set(h,'ButtonDownFcn',{@AllV.SummaryHit, j});        set(gca,'linewidth',linewidth);        if AllV.isacell(DATA, DATA.exptno, j)            c = AllV.MarkAxes(gca, 100);        elseif isfield(Clusters{j},'marked')            c = AllV.MarkAxes(gca, Clusters{j}.marked);        else            c = 'b';        end        set(h,'color',c);        AllV.AddSelectorContextMenu(DATA, gca, j);    end    