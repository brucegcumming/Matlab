function DATA = QuickAutoCut(a,b)    DATA = GetDataFromFig(a);    AllVoltages = AllV.mygetappdata(DATA,'AllVoltages');    tpt(1) = find(DATA.spts == 0);    p = DATA.probe(1);    tpt(2) = tpt(1)+5;    sz = abs(AllVoltages(p,tpt(1),:) - AllVoltages(p,tpt(2),:));    nspk = size(AllVoltages,3);    if nspk > 10000        prc =99.5;    else        prc = 98;    end    id = find(sz > prctile(sz,prc));    DATA.cluster.clst = ones(1,size(AllVoltages,3));    DATA.cluster.clst(id) = 2;    DATA.clst = DATA.cluster.clst;    DATA.cluster.neednewtemplate = 1;    AllV.TemplatePlot(DATA);    DATA = get(DATA.toplevel,'UserData');    %1 is r, 8 is dt    x = (DATA.TemplateScores(:,1) + DATA.TemplateScores(:,8))./sqrt(2);    a = FindDip(x);    DATA.cluster.crit = a(4);    DATA.cluster.angle = -pi/4;    DATA.cluster.shape = 1;    DATA.cluster.space = [3 1 8];    l = abs(diff(get(gca,'xlim') + i * diff(get(gca,'ylim'))));    DATA.cluster.pos = xyrotate([a(4) a(4)], [0 l],DATA.cluster.angle);    [cl, DATA.cluster, DATA.xy{1}] = AllV.ClassifySpikes(DATA, DATA.cluster);    DATA.clst = cl.clst;    DATA.plottype = 3;    AllV.SetFigure(DATA.tag.hist,DATA);    hold off;    hist(x,500);    hold on;    plot([a(4) a(4)],get(gca,'ylim'),'r');    set(DATA.toplevel,'UserData',DATA);        