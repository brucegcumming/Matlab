function Labels = TemplateLabels(DATA, usestd)    ispk = DATA.probe(1);    if isfield(DATA,'trueprobe')        ispk = DATA.trueprobe;    end    if isfield(DATA,'chspk')        chspk = AllV.GetProbeList(DATA);    else        chspk = DATA.probe(1)+ [-1:1];        chspk = chspk(chspk >0 & chspk <= DATA.allnprobes);    end    if usestd        if isfield(DATA,'ntemplates')            nt = DATA.ntemplates;        else            nt = size(DATA.StdTemplates,1);        end        Labels{1} = sprintf('1r');        Labels{2} = sprintf('2r');        Labels{3} = sprintf('3r');        Labels{4} = sprintf('1dt');        Labels{5} = sprintf('2dt');        Labels{6} = sprintf('3dt');        Labels{7} = sprintf('?');        Labels{8} = sprintf('2dt');        Labels{9} = sprintf('?');        Labels{10} = sprintf('2dt');        Labels{11} = sprintf('?');        Labels{12} = sprintf('?');        np = length(DATA.chspk);        for j = 1:np            [p(j),id] = AllV.GetProbeNumber(DATA, DATA.chspk,j);            for k = 1:(nt.*2);                if k > nt                    Labels{(j-1) * 2*nt + k} = sprintf('P%dT%ddt',p(j),k-nt);                else                    Labels{(j-1) * 2*nt + k} = sprintf('P%dT%dr',p(j),k);                end            end        end    return;    end    if length(DATA.chspk) == 1        ispk = DATA.probelist(DATA.probe(1));        Labels{1} = sprintf('%d:r',ispk);        Labels{2} = sprintf('MU');        Labels{8} = sprintf('%d:dt',ispk);        Labels{9} = sprintf('Std1');        Labels{4} = sprintf('std2');        Labels{6} = sprintf('%d:dp',ispk);        Labels{5} = sprintf('%dr-otherr',ispk);        Labels{7} = sprintf('dp');        Labels{3} = sprintf('mu:dvdt');        Labels{10} = sprintf('dp wieghted');        Labels{11} = sprintf('trigger');        Labels{12} = sprintf('dvdt Std1',ispk);        Labels{14} = sprintf('MUsum',ispk);        Labels{15} = sprintf('sum2',ispk);        Labels{13} = sprintf('absdiff',ispk);        Labels{16} = sprintf('sum2-sum1');        Labels{17} = sprintf('sumP%d',DATA.probe(1)-1);        Labels{18} = sprintf('sumP%d',DATA.probe(1)+1);        Labels{19} = sprintf('dvdt Std2',DATA.probe(1)+1);    else        Labels{1} = sprintf('%d:r',ispk);        Labels{2} = sprintf('sum');        Labels{8} = sprintf('%d:dt',ispk);        Labels{9} = sprintf('%d:dy',ispk);        Labels{5} = sprintf('%d:csd',chspk(1));        Labels{6} = sprintf('%d:dp',ispk);        Labels{7} = sprintf('%d:dp',chspk(1));        Labels{3} = sprintf('%d:r',chspk(1));        if length(chspk) > 2            Labels{4} = sprintf('%d:r',chspk(end));        else            if max(chspk)  == DATA.nprobes                xspk = min(chspk)-1;            else                xspk = max(chspk)+1;            end            Labels{4} = sprintf('%d:r',xspk);        end        Labels{19} = sprintf('dVdY at trigger');        if length(chspk) > 3 && DATA.cluster.version > 1.11            [a,b] = AllV.GetProbeNumber(DATA,chspk,4);            Labels{19} = sprintf('%d:r',a);        end        Labels{10} = sprintf('sumdt');        if DATA.trigdt == 4 %template triggering - look at trig values            Labels{11} = sprintf('trigger');        else            Labels{11} = sprintf('sumdp',ispk);        end        Labels{12} = sprintf('sumdy',ispk);        Labels{14} = sprintf('MUsum',ispk);        Labels{15} = sprintf('sum2',ispk);        Labels{13} = sprintf('absdiff',ispk);        Labels{16} = sprintf('sum2-sum1');        Labels{17} = sprintf('sumP%d',DATA.probe(1)-1);        Labels{18} = sprintf('sumP%d',DATA.probe(1)+1);    end    