function CellTrackMenu(a,b, type)    DATA = GetDataFromFig(a);    DATA = SaveCallback(DATA,a);        if strcmp(type,'setmenu')    fcn = get(a,'value') -3;            if fcn == 5            PC.PlotAllCellSpikes(DATA);        elseif fcn == 6            PC.PlotAllCellXY(DATA);        elseif fcn == 7            PC.PlotAllCellMean(DATA,'lineonly');        elseif fcn == 8            PC.PlotAllCellMean(DATA,'imageonly');        elseif fcn == 9            PC.ExcludeTrialsForCell(DATA, 0, 1);        elseif fcn == 10            PC.ExcludeTrialsForCell(DATA, 0, 2);        end    elseif strcmp(type,'setplane')        fcn = get(a,'value');        DATA.clusteroffset = (fcn-1)*2;        DATA = PC.PlotCellList(DATA, 'showfig');        set(DATA.toplevel,'UserData',DATA);    elseif strcmp(type,'setcluster')        e = DATA.currentpoint(1);        p = DATA.currentpoint(2);        str = get(a,'string');        cl = get(a,'value');               if iscellstr(str)        if strncmp(str{cl},'Use Template',10) %use template peaks            cl = 1;        end        else        if strncmp(str(cl,:),'Use Template',10) %use template peaks            cl = 1;        end        end        DATA.cellcluster = cl;        if size(DATA.CellList,3) >= cl            cell = DATA.CellList(e,p,cl);        else            cell = 0;        end        if cell > 0 && 0            it = findobj('Tag','CellNumberId');            set(it,'value',cell);        end        set(DATA.toplevel,'UserData',DATA);    end