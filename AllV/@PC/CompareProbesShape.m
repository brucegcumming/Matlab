function result = CompareProbesShape(DATA, ex, type)  C = Clusters{ex};for j = 1:length(C)    for k = 1:j        if type == 2            xc = corrcoef(C{j}.MeanSpike.ms(:),C{k}.MeanSpike.ms(:));            shapes(j,k) = xc(1,2);        else            shapes(j,k) = sum(C{j}.MeanSpike.ms(:).*C{k}.MeanSpike.ms(:));        end    shapes(k,j) = shapes(j,k);    endendsubplot(1,2,1);imagesc(shapes);for j = 1:size(shapes,1)-1    a(j)= shapes(j,j+1);endfor j = 2:size(shapes,1)-1    b(j)= shapes(j-1,j+1);endsubplot(1,2,2);hold off; plot(a);hold on;plot(b,'r');result.shapexc = shapes;result.xca = a;result.xcb = b;