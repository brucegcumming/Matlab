 function [CC, GM] = CondenseCluster(C)     CC = C;     GM = {};     for p = 1:length(C)         f = fields(C{p});         for k = 1:length(f)             if isobject(C{p}.(f{k}))                 GM{p}.(f{k}) = C{p}.(f{k});                 CC{p} = rmfield(CC{p},f{k});             end         end         if isfield(CC{p},'next')             for c = 1:length(CC{p}.next)                 if ~isempty(CC{p}.next{c})                     f = fields(C{p}.next{c});                     for k = 1:length(f)                         if isobject(C{p}.next{c}.(f{k}))                             GM{p}.next{c}.(f{k}) = C{p}.next{c}.(f{k});                             CC{p}.next{c} = rmfield(CC{p}.next{c},f{k});                         end                     end                 end             end         end     end     