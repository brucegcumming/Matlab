function [DATA, Expts]  = LoadExpts(DATA, varargin)%Load Expts for PlotClusters.  Expts{e} is exptno e, not row e            if DATA.usealltrials        varargin = {varargin{:} 'usealltrials'};    end    if exist(DATA.exptname)         fprintf('Loading %s\n',DATA.exptname);        if strfind(DATA.exptname,'Expts.mat')            load(DATA.exptname);            Trials = [];        else            [Trials, Expts] = APlaySpkFile(DATA.exptname,'noerrs','nospikes',varargin{:});            if isfield(Trials.Comments,'Peninfo') & isfield(Trials.Comments.Peninfo,'probesep')                DATA.probesep(1+length(Expts)) = Trials.Comments.Peninfo.probesep;            end        end        for j = 1:length(Expts)            Expts{j} = FillTrials(Expts{j},'ed');            ei = GetExptNumber(Expts{j});            if ei > 0                Expts{j}.Header.exptno = ei;            else                Expts{j}.Header.exptno = j;                ei = j;            end            DATA.electrodedepth(j) = mean([Expts{j}.Trials.ed]);            DATA.trialids{j} = [Expts{j}.Trials.id];            DATA.exptid(j) = ei;            if isfield(Expts{j}.Header,'DataType')                DATA.DataType = Expts{j}.Header.DataType;            end            if isfield(Expts{j}.Header,'probesep')            end            AllExpts{ei} = Expts{j};        end        Expts = AllExpts';        DATA.idsorted = 1;    else        exptno = DATA.exptid;        for j = 1:length(exptno)            e = floor(exptno(j));            [Expts{e} , DATA] = PC.LoadExpt(DATA, e);        end        Expts = PC.SetExptTimeOffset(Expts);    end    if isfield(DATA,'DataType') && strncmp(DATA.DataType,'Grid',4)        DATA.nprobespool = 0;    end    setappdata(DATA.toplevel,'Expts',Expts);    ShowExptErrs(Expts);        