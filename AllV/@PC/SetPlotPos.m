function plotpos = SetPlotPos(DATA,np, nr, nc)    if isfield(DATA.ArrayConfig,'X')        nx = length(unique(DATA.ArrayConfig.X));        if ismember(nx,[np 1]) %simple linear array            plotpos = 1:np;        else            if length(unique(DATA.ArrayConfig.X)) == 2 && np == 24                plotpos = [1 7 2 8 3 9 4 10 5 11 6 12 13 19 14 20 15 21 16 22 17 23 18 24];            else                for j = 1:np                    plotpos(j) = DATA.ArrayConfig.Y(j) + (DATA.ArrayConfig.X(j)-1).*nr;                end            end        end    else        plotplos = 1:np;    end    