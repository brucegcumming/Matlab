function SetTrialList(DATA, C, strial)    F = FindFig(DATA.tag.spikes);    if nargin < 2 || isempty(C)    Clusters = getappdata(DATA.toplevel,'Clusters');    C = Clusters{DATA.currentpoint(1)}{DATA.currentpoint(2)};    end    if ~isfield(DATA.Expt,'Trials')        return;    end    tn = [DATA.Expt.Trials.Trial]';    xcl = PC.FindExcludedTrials(DATA, DATA.currentpoint(1),DATA.currentpoint(2), 1, C);   xcl = xcl(xcl < length(tn)); %with expt split into two can mis match    tn(xcl) = tn(xcl).*-1;    strial(strial > length(tn)) = 1;        if length(F) == 1        it = findobj(F,'Tag','ChooseTrial');        set(it,'string',num2str(tn),'value',strial);    end        