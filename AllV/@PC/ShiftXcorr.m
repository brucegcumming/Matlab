function xcs = ShiftXcorr(allshape, a, b, npts)    nprobes = round(size(allshape,2)./npts);    for k = -7:7        if k >= 0            apts = 1:((nprobes-k) .* npts);            bpts = 1+(k .* npts):size(allshape,2);        else            bpts = 1:((nprobes+k) .* npts);            apts = 1-(k .* npts):size(allshape,2);        end        xc = corrcoef(allshape(a,apts),allshape(b,bpts));        xcs(k+8) = xc(1,2);    end