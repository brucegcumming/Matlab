function DATA = ExcludeTrials(DATA, trials, add)    if add == 1        DATA.excludetrialids = cat(2, DATA.excludetrialids,[DATA.Expt.Trials(trials).id]);    else        DATA.excludetrialids = trials;    end            id = find(ismember([DATA.Expt.Trials.id],DATA.excludetrialids));    iid = [];    for j = id        oid = find(DATA.t > DATA.Expt.Trials(j).Start(1)./10000 - DATA.preperiod & ...            DATA.t < DATA.Expt.Trials(j).End(end)/10000 + DATA.postperiod);        iid = [iid oid];    end    uid = unique(iid);    DATA.clst(uid) = -1;    DATA.uid = setdiff(1:DATA.nevents,uid);    set(DATA.toplevel,'UserData',DATA);    AllV.SetTrialList(DATA);