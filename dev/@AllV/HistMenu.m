function HistMenu(a,b, mode)DATA = GetDataFromFig(a);if mode == 1%    dip = FindDip(DATA.xy{1}(:,1),DATA.energy(1,:),'plot');    dip = GMDip(DATA.xy{1},DATA.energy(1,:),'plot','label',DATA.idstr);elseif mode == 2    [a,b,c] = AllV.BestGMAngle(DATA.xy{1}(:,1),DATA.xy{1}(:,2));    AllV.SetFigure(DATA.tag.dips, DATA,DATA.watcharg{:});    hold off;     plot(c.angles,c.mahal);    title(sprintf('Mahal 1D %.3f at %.2fdeg , 2D %.3f',b, a .*180/pi,c.mahal2d));elseif mode == 3    H = AllV.PlotHistogram(DATA, [],'plotgmdetails');    dip = MyDip(DATA.xy{1}(:,1));    fprintf('Dip size%s\n',sprintf(' %.2f',dip.dipsize));    sc = H.area./trapz(dip.x,dip.finey);    plot(dip.x,dip.finey.*sc,'c');    plot([dip.x(dip.dip(3)) dip.x(dip.dip(3))],get(gca,'ylim'),'c');elseif mode == 4    DATA.cluster.crit(1) = -DATA.cluster.crit(1);%    AllV.PlotHistogram(DATA, []);    set(DATA.toplevel,'UserData',DATA);    AllV.PCCluster(a,b,34);end    