function PCKeyPressed(src, ks)DATA = GetDataFromFig(src);spk = [0 0];changed = 1;if strmatch(ks.Key,'p')    if ~strcmp('alt',ks.Modifier)        AllV.PCCluster(DATA,[],9); %plot PCS    endelseif strmatch(ks.Key,{'1' '2' '3' '4'})    AllV.PCCluster(DATA.toplevel,[],['Ellipse' ks.Key]); %set ellipseelseif strmatch(ks.Key,'a')     AllV.PCCluster(DATA,[],10); %plot ADCselseif strmatch(ks.Key,'d')     AllV.PCCluster(DATA,[],4); %plot Densityelseif strmatch(ks.Key,'e')     AllV.PCCluster(DATA,[],1); %ellipseelseif strmatch(ks.Key,'h') %replot histogram    AllV.PlotHistogram(DATA,[],'plotgmdetails');    figure(DATA.toplevel);elseif strmatch(ks.Key,'i') %Save refcluster definitino     AllV.PCCluster(DATA,[],'savedef'); %cut with lineelseif strmatch(ks.Key,'l')     AllV.PCCluster(DATA,[],8); %cut with lineelseif strmatch(ks.Key,'n')    AllV.ChangeProbe(DATA,[],'next')%    AllV.PCCluster(DATA,[],13); %Next Probe    if strmatch('shift',ks.Modifier)    endelseif strmatch(ks.Key,'q')    if strcmp('shift',ks.Modifier)        DATA = AllV.QuickAutoCut(DATA);    else        AllV.PCCluster(DATA,[],12); %quick save    endelseif strmatch(ks.Key,'r')    AllV.ReplotPCs(DATA,[]);elseif strmatch(ks.Key,'s')     if strmatch('shift',ks.Modifier)        AllV.PCCluster(DATA,[],12); %save cluster    else        AllV.PCCluster(DATA,[],25); %save spikes+cluster    endelseif strmatch(ks.Key,'t')     AllV.PCCluster(DATA,[],5); %plot Templateselseif strcmp(ks.Character,'V')     AllV.OptionMenu(src, ks,  'newfullv');elseif strmatch(ks.Key,'v')     AllV.SetFigure(DATA.tag.spikes, DATA,DATA.watcharg{:},'front');    AllV.SpoolSpikes(DATA); %ellipse    figure(DATA.toplevel);elseif strmatch(ks.Key,'w') %sWitch probe    AllV.ProbeMenu(src, ks,'select');elseif strmatch(ks.Key,'x')     AllV.PCCluster(DATA,[],20); %plot extra adcelseif strcmp(ks.Key,'leftarrow')    AllV.RotateCluster(DATA, 0.05);elseif strcmp(ks.Key,'rightarrow')    AllV.RotateCluster(DATA, -0.05);else    changed = 0;end