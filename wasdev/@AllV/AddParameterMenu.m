function AddParameterMenu(F, callback, tag)    DATA = GetDataFromFig(F);    if ~isfield(DATA,'TemplateLabels')        cprintf('red','Figure %d Can''t get UserData\n',F);        return;    end    it = findobj(F,'tag',tag,'type','uimenu');    delete(it);    hm = uimenu(F,'label',tag,'Tag',tag);    for j = 1:8        s = sprintf('PC%d',j);        uimenu(hm,'Label',s,'callback',{callback, tag, s});    end    for j = 1:length(DATA.TemplateLabels)        s = DATA.TemplateLabels{j};        uimenu(hm,'Label',s,'callback',{callback, tag, s});    end    strs = {'energy' 'spkvar' 'ADC1' 'ADC2' 'ADC1dvdt' 'ADC2dvdt' 'Centroid' 'CentroidSplit'};    for j = 1:length(strs)        str = strs{j};        if strcmp(str,'ADC1')            str = sprintf('%d:%d',DATA.vpts(1,1),DATA.vpts(1,2));        elseif strcmp(str,'ADC2')            str = sprintf('%d:%d',DATA.vpts(2,1),DATA.vpts(2,2));        end                    uimenu(hm,'Label',str,'callback',{callback, tag, strs{j}});    end        